<!DOCTYPE html>
<html>
<head>
    {{% 
     var theme = Project.Settings.RenderTheme;
     if(Topic.TopicState.IsPreview) {         
    }}
    <base href="{{ Model.PageBasePath }}" />
    {{% } }}

    <meta charset="utf-8" />
    <title>{{ Topic.Title }} - {{ Project.Title }}</title>

    {{% if (!string.IsNullOrEmpty(Topic.Keywords)) { }}
    <meta name="keywords" content="{{ Topic.Keywords.Replace(" \n",", ") }}" />
    {{% } }}
    {{% if(!string.IsNullOrEmpty(Topic.Abstract)) { }}
    <meta name="description" content="{{! Topic.Abstract }}" />
    {{% } }}
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="~/_docmonster/themes/scripts/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/_docmonster/themes/scripts/fontawesome/css/font-awesome.min.css" />
    <link id="AppCss" rel="stylesheet" type="text/css" href="~/_docmonster/themes/{{ theme }}/docmonster.css" />
    <!-- <link rel="stylesheet" type="text/css" href="~/_docmonster/themes/{{ theme }}/kavadocs-dark.css" /> -->

    <script src="~/_docmonster/themes/scripts/jquery/jquery.min.js"></script>

    <script src="~/_docmonster/themes/scripts/highlightjs/highlight.pack.js"></script>
    <script src="~/_docmonster/themes/scripts/highlightjs-badge.min.js"></script>
    <link href="~/_docmonster/themes/scripts/highlightjs/styles/vs2015.css" rel="stylesheet" />

    <script src="~/_docmonster/themes/scripts/ww.jquery.min.js"></script>

    <script src="~/_docmonster/themes/scripts/bootstrap/bootstrap.bundle.min.js" async></script>
    <script src="~/_docmonster/themes/scripts/lunr/lunr.min.js"></script>

    <script>
        window.page = {};
        window.page.basePath = "{{ Project.Settings.RelativeBaseUrl }}";     
            
        window.renderTheme='dark';    
    </script>
    <script src="~/_docmonster/themes/scripts/docmonster.js"></script>

    {{% if(Topic.TopicState.IsPreview) { }}
    <script src="~/_docmonster/themes/scripts/preview.js"></script>
    {{% } }}

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            helpBuilder.initializeLayout();
            setTimeout(helpBuilder.tocExpandTop, 5);

            // You can customize Mermaid config here
            mermaidLoader('{{MarkdownMonster.mmApp.Configuration.Markdown.MermaidDiagramsUrl}}', null);
        }); 
    </script>

    <style>
        .toc li .fa-arrow-up-right-from-square {
            font-size: 0.7em;
            color: goldenrod;
            margin-left: 0.1em;
        }

        pre.mermaid {
            border: none !important;
        }
    </style> 

    <topictype value="{{ Topic.DisplayType }}" />

    <meta property="og:title" content="{{ Topic.Title }} - {{ Project.Title }}" />
    {{% if(!string.IsNullOrEmpty(Topic.Abstract)) { }}
    <meta property="og:description" content="{{ Topic.Abstract }}" />
    {{% } }}
    <meta property="og:type" content="article" />

    {{% if (File.Exists(Path.Combine(Project.ProjectDirectory, "images","logo-large.png"))) { }}
    <!-- To use a large image use 1200x630 and create images/logo-large.png -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:image"
        content="{{ Project.Settings.WebSiteBaseUrl?.TrimEnd('/') }}{{ Project.Settings.RelativeBaseUrl }}images/logo-large.png" />
    {{% } else { }}
    <meta name="twitter:card" content="summary">
    <meta property="og:image"
        content="{{ Project.Settings.WebSiteBaseUrl?.TrimEnd('/') }}{{ Project.Settings.RelativeBaseUrl }}images/logo.png" />
    {{% } }}
</head>
<body>    
    <!-- Markdown Monster Content -->    
    <div class="flex-master">
        <div class="banner">
            <div class="float-end">
                <button id="themeToggleBtn" type="button" onclick="toggleTheme()" 
                        class="btn btn-sm btn-secondary theme-toggle"                        
                        title="Toggle Light/Dark Theme">
                    <i id="themeToggleIcon" 
                       class="fa fa-moon text-warning">
                    </i>
                </button>                 
            </div>

            <div class="float-start sidebar-toggle">
                <i class="fa fa-bars"
                   title="Show or hide the topics list"></i>
            </div>
			
			{{% if (Topic.Incomplete) { }}
               <div class="float-end mt-2 " title="This topic is under construction.">
                   <i class="fa-duotone fa-triangle-person-digging fa-lg fa-beat" 
                   style="--fa-primary-color: #333; --fa-secondary-color: goldenrod; --fa-secondary-opacity: 1; --fa-animation-duration: 3s;"></i> 
	           </div>
		    {{% } }}		   
			
            <img src="~/images/logo.png" class="banner-logo" />
            <div class="projectname"> {{ Project.Title }}</div>

            <div class="byline">                
                <img src="~/_docmonster/icons/{{ Topic.DisplayType }}.png">
                {{ Topic.Title }}
            </div>
        </div>
        <div class="page-content">
            <div id="toc-container" class="sidebar-left toc-content">
                <nav class="visually-hidden">
                    <a href="~/tableofcontents.html">Table of Contents</a>
                </nav>
            </div>

            <div class="splitter">
            </div>

            <nav class="topic-outline">
                <div class="topic-outline-header">On this page:</div>
                <div class="topic-outline-content"></div>
            </nav>
            
            <div id="MainContent" class="main-content">                
                <!-- Rendered Content -->


                <article class="content-pane">
                    {{ Script.RenderContent() }}
                </article>

                <hr />
                <div class="float-end">
                    <a href="http://documentationmonster.com" target="_blank"><img src="~/_docmonster/images/docmonster.png" style="height: 2.5em"/></a>
                </div>

                <div class="footer">
                     &copy; {{ Project.Owner }}, {{ DateTime.Now.Year }} &bull;
                    updated: {{ Topic.Updated.ToString("MMM dd, yyyy") }}
                    <br />
                    {{%      
                        string mailBody = $"Project: {Project.Title}\nTopic: {Topic.Title}\n\nUrl:\n{ Project.Settings.WebSiteBaseUrl?.TrimEnd('/') + Project.Settings.RelativeBaseUrl }{ Topic.Id }.html";
                        mailBody = WebUtility.UrlEncode(mailBody).Replace("+", "%20");                        
                    }}
                    <a href="mailto:{{ Project.Settings.SupportEmail }}?subject=Support: {{ Project.Title }} - {{ Topic.Title }}&body={{ mailBody }}">Comment or report problem with topic</a>
                </div>
                <br class="clearfix" />
                <br />
                <!-- End Rendered Content -->                    
            </div>
        </div>
    </div>


    <!-- End Markdown Monster Content -->

</body>
</html>

